-unless locals[:rank_init].nil?
  %div.margin-top-dropdown
    -if locals[:tipo] == "fecha"
      =select :date, "test", 
        get_array_fecha(locals[:rank_init]).each_with_index.map {|name, index| [name,index]},{ include_blank: true , selected: false }, class: 'chosen-select',
        :onchange=> "dateClick(#{locals[:number]}, 
          #{locals[:id]}, 
          #{locals[:next]},
          #{locals[:restrictions]},
          #{locals[:next_restrictions]})"
    -elsif locals[:tipo] == "rango"
      =select :date, "test", 
        get_array_rank(locals[:rank_init]).each_with_index.map {|name, index| [name,index]},{ include_blank: true , selected: false }, class: 'chosen-select',
        :onchange=> "dateClick(#{locals[:number]}, 
          #{locals[:id]}, 
          #{locals[:next]},
          #{locals[:restrictions]},
          #{locals[:next_restrictions]})"
    -elsif locals[:tipo] == "lugar"
      =select :date, "test", 
        Services.load_towns.each_with_index.collect {|opt| [opt[:label], opt[:id]]},{ include_blank: true , selected: false }, class: 'chosen-select',
        :onchange=> "dateClick(#{locals[:number]}, 
          #{locals[:id]}, 
          #{locals[:next]},
          #{locals[:restrictions]},
          #{locals[:next_restrictions]})"
    -elsif locals[:tipo] == "subligar"
      =select :date, "test", 
        Services.load_city(session[:town_business]).each_with_index.collect {|opt| [opt[:label], opt[:id]]},{ include_blank: true , selected: false }, class: 'chosen-select',
        :onchange=> "dateClick(#{locals[:number]}, 
          #{locals[:id]}, 
          #{locals[:next]},
          #{locals[:restrictions]},
          #{locals[:next_restrictions]})"
-else
  = render 'shared/question_normal', :locals => {:imagen => locals[:imagen],
                                                :number => locals[:number], 
                                                :text => locals[:text],
                                                :id => locals[:id],
                                                :next => locals[:next],
                                                :restrictions => locals[:restrictions],
                                                :next_restrictions=>locals[:next_restrictions]}